{"remainingRequest":"E:\\2020xian\\git-AntiFraud\\node_modules\\_vue-loader@15.9.6@vue-loader\\lib\\index.js??vue-loader-options!E:\\2020xian\\git-AntiFraud\\src\\views\\fraud-management\\downtime-white-list.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\2020xian\\git-AntiFraud\\src\\views\\fraud-management\\downtime-white-list.vue","mtime":1610330353498},{"path":"E:\\2020xian\\git-AntiFraud\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\2020xian\\git-AntiFraud\\node_modules\\_babel-loader@8.2.2@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\2020xian\\git-AntiFraud\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\2020xian\\git-AntiFraud\\node_modules\\_vue-loader@15.9.6@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGZldGNoZG93bnRpbWVXaGl0ZUxpc3QsZmV0Y2hkb3dudGltZVdoaXRlQWRkLGRlbGV0ZVdoaXRlRGF0YSxmZXRjaGRvd250aW1lV2hpdGVMaXN0V2hpdGUgfSBmcm9tICdAL2FwaS9mcmF1ZC1tYW5hZ2VtZW50JzsKICBleHBvcnQgZGVmYXVsdCB7CiAgICAgIG5hbWU6ICJkb3dudGltZS13aGl0ZS1saXN0IiwKICAgIGRhdGEoKSB7CiAgICAgIHZhciB0ZWxQYXNzID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICAgIGNvbnN0IHN0cjEgPSB2YWx1ZS5yZXBsYWNlKC9ccy9pZywgIiIpCiAgICAgICAgaWYgKHN0cjEgPT09ICcnKSB7CiAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeaJi+acuuWPtycpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYoc3RyMS5pbmRleE9mKCLvvIwiKSAhPSAtMSl7CiAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl6Iux5paH6YCX5Y+3JykpOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICBsZXQgbnVtYmVycyA9IHN0cjEuc3BsaXQoJywnKQogICAgICAgICAgZm9yKGxldCBpID0gMDtpPG51bWJlcnMubGVuZ3RoO2krKyl7CiAgICAgICAgICAgIGlmKCEoL14xKDN8NHw1fDZ8N3w4fDkpXGR7OX0kLy50ZXN0KG51bWJlcnNbaV0pKSl7CiAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfovpPlhaXmoLzlvI/miJbogIXmiYvmnLrlj7fkuI3mraPnoa4nKSk7CiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgcmV0dXJuIHsKICAgICAgICBudW1iZXJzOiAnJywKICAgICAgICB0eXBlczonJywKICAgICAgICBsaXN0OltdLAogICAgICAgIHRlbXA6ewogICAgICAgICAgbnVtYmVyczonJywKICAgICAgICAgIHRleHQ6JycsCiAgICAgICAgICAvKmxpc3Q6W10qLwogICAgICAgIH0sCiAgICAgICAgZG93bmxvYWRMb2FkaW5nOiBmYWxzZSwKICAgICAgICBtdWx0aXBsZVNlbGVjdGlvbjpbXSwKICAgICAgICB3aGl0ZUxpc3Q6W10sCiAgICAgICAgYWRkV2hpdGVMaXN0OmZhbHNlLAogICAgICAgIHBhZ2VTaXplOjEwLC8v5q+P6aG15pi+56S65p2h5pWwCiAgICAgICAgcGFnZUN1cnJlbnQ6MSwvL+W9k+WJjemhtQogICAgICAgIHBhZ2VUb3RhbDowLAogICAgICAgIHJ1bGVzOnsKICAgICAgICAgIG51bWJlcnM6W3sgdmFsaWRhdG9yOiB0ZWxQYXNzLCB0cmlnZ2VyOiAnYmx1cicgfV0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCl7CiAgICAgIHRoaXMuZmV0Y2hMaXN0KCk7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICBkZWxldGVSb3cocm93KSB7CiAgICAgICAgbGV0IHBhcmFtID0ge30KICAgICAgICBwYXJhbS5XSElURV9OVU1CRVIgPSByb3cuV0hJVEVfTlVNQkVSOwogICAgICAgIGRlbGV0ZVdoaXRlRGF0YShwYXJhbSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBsZXQga2V5ID0gcmVzcG9uc2UucmVzdWx0U3RhdGU7CiAgICAgICAgICBpZihrZXk9PT0nMScpewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfJywKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuZmV0Y2hMaXN0KCk7CiAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTlpLHotKUnLAogICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgIH0pCiAgICAgIH0sCiAgICAgIG9uU3VibWl0KCkgewogICAgICAgIHRoaXMuZmV0Y2hMaXN0KCk7CiAgICAgIH0sCiAgICAgIGZldGNoTGlzdCgpewogICAgICAgIGxldCBwYXJhbSA9IHt9OwogICAgICAgIHBhcmFtLnN0YXJ0ID0gKHRoaXMucGFnZUN1cnJlbnQtMSkqdGhpcy5wYWdlU2l6ZTsKICAgICAgICBwYXJhbS5sZW5ndGggPSB0aGlzLnBhZ2VTaXplOwogICAgICAgIHBhcmFtLm51bWJlcnM9dGhpcy5udW1iZXJzOwogICAgICAgIHBhcmFtLnR5cGVzPXRoaXMudHlwZXM7CiAgICAgICAgZmV0Y2hkb3dudGltZVdoaXRlTGlzdChwYXJhbSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLmxpc3QgPSByZXNwb25zZS5kYXRhCiAgICAgICAgICB0aGlzLnBhZ2VUb3RhbCA9IHJlc3BvbnNlLnRvdGFsOwogICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgfSkKCgogICAgICAgIGZldGNoZG93bnRpbWVXaGl0ZUxpc3RXaGl0ZShwYXJhbSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLndoaXRlTGlzdCA9IHJlc3BvbnNlOwogICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgfSkKICAgICAgfSwKICAgICAgYWRkV2hpdGUoZm9ybU5hbWUpewogICAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgIGxldCBwYXJhbSA9IHRoaXMudGVtcDsKICAgICAgICAgICAgcGFyYW0ubG9naW5JZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2xvZ2luSWQnKQogICAgICAgICAgICAvKnBhcmFtLmxpc3QgPSBwYXJhbS5udW1iZXJzLnNwbGl0KCcsJyk7Ki8KICAgICAgICAgICAgZmV0Y2hkb3dudGltZVdoaXRlQWRkKHBhcmFtKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICBjb25zdCBrZXkgPSByZXNwb25zZS5yZXN1bHRTdGF0ZTsKICAgICAgICAgICAgICBpZihrZXk9PT0nMScpewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmt7vliqDmiJDlip8nLAogICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy50ZW1wID0gewogICAgICAgICAgICAgICAgICBudW1iZXJzOicnLAogICAgICAgICAgICAgICAgICB0ZXh0OicnCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdGhpcy5mZXRjaExpc3QoKTsKICAgICAgICAgICAgICAgIHRoaXMuYWRkV2hpdGVMaXN0ID0gZmFsc2U7CiAgICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmt7vliqDlpLHotKUnLAogICAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3Igc3VibWl0ISEnKTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBoYW5kbGVEb3dubG9hZCgpIHsKICAgICAgICB0aGlzLmRvd25sb2FkTG9hZGluZyA9IHRydWUKICAgICAgICBpbXBvcnQoJ0AvdmVuZG9yL0V4cG9ydDJFeGNlbCcpLnRoZW4oZXhjZWwgPT4gewogICAgICAgICAgY29uc3QgdEhlYWRlciA9IFsn5Y+356CBJywgJ+a3u+WKoOS6uicsICfmt7vliqDml7bpl7QnLCAn54q25oCBJywgJ+a3u+WKoOWOn+WboCcsJ+S/ruaUueS6uicsJ+S/ruaUueaXtumXtCddCiAgICAgICAgICBjb25zdCBmaWx0ZXJWYWwgPSBbJ1dISVRFX05VTUJFUicsICdBRERfVVNFUicsICdBRERfVElNRScsICdTVEFUVVMnLCAnQUREX1JFU09OJywnRURJVF9VU0VSJywnRURJVF9USU1FJ10KICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmZvcm1hdEpzb24oZmlsdGVyVmFsKQogICAgICAgICAgZXhjZWwuZXhwb3J0X2pzb25fdG9fZXhjZWwoewogICAgICAgICAgICBoZWFkZXI6IHRIZWFkZXIsCiAgICAgICAgICAgIGRhdGEsCiAgICAgICAgICAgIGZpbGVuYW1lOiAn5YGc5py655m95ZCN5Y2VJwogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMuZG93bmxvYWRMb2FkaW5nID0gZmFsc2UKICAgICAgICB9KQogICAgICB9LAogICAgICBmb3JtYXRKc29uKGZpbHRlclZhbCkgewogICAgICAgIHJldHVybiB0aGlzLndoaXRlTGlzdC5tYXAodiA9PiBmaWx0ZXJWYWwubWFwKGogPT4gewogICAgICAgICAgaWYgKGogPT09ICd0aW1lc3RhbXAnKSB7CiAgICAgICAgICAgIHJldHVybiBwYXJzZVRpbWUodltqXSkKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiB2W2pdCiAgICAgICAgICB9CiAgICAgICAgfSkpCiAgICAgIH0sCiAgICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gdmFsOwogICAgICB9LAogICAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICAgIHRoaXMucGFnZVNpemU9dmFsOwogICAgICAgIHRoaXMuZmV0Y2hMaXN0KCk7CiAgICAgIH0sCiAgICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgICAgdGhpcy5wYWdlQ3VycmVudD12YWw7CiAgICAgICAgdGhpcy5mZXRjaExpc3QoKTsKICAgICAgfSwKICAgIH0KICB9Cg=="},{"version":3,"sources":["downtime-white-list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"downtime-white-list.vue","sourceRoot":"src/views/fraud-management","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"filter-container\">\n      <div style=\"display:inline-block;padding-right: 20px;\">\n        <span style=\"padding: 0 8px 0 0;\">号码</span>\n        <el-input style=\"display: inline-block;width: 196px;\" v-model=\"numbers\" placeholder=\"请输入号码\"></el-input>\n      </div>\n      <div style=\"display:inline-block;padding-right: 20px;\">\n        <span style=\"padding: 0 8px 0 0;\">状态</span>\n        <el-select v-model=\"types\" placeholder=\"请选择\" clearable>\n          <el-option key=\"sx1\" value=\"1\" label=\"启用\"></el-option>\n          <el-option key=\"sx2\" value=\"2\" label=\"已移除\"></el-option>\n        </el-select>\n      </div>\n\n      <el-button class=\"filter-item\" style=\"margin: 0 7px 0;\" type=\"primary\" icon=\"el-icon-search\" @click=\"onSubmit\">\n        查询\n      </el-button>\n      <el-button class=\"filter-item\" style=\"margin: 0 7px 0;\" type=\"warning\" icon=\"el-icon-plus\" @click=\"addWhiteList = true\">\n        添加白名单\n      </el-button>\n      <el-button :loading=\"downloadLoading\" style=\"margin:0 15px 0 7px;\" type=\"success\" icon=\"el-icon-document\" @click=\"handleDownload\">\n        导出表格\n      </el-button>\n    </div>\n\n\n\n    <el-table\n      :key=\"tableKey\"\n      v-loading=\"listLoading\"\n      :data=\"list\"\n      border\n      :fit=\"true\"\n      highlight-current-row\n      style=\"width: 100%;\"\n      @selection-change=\"handleSelectionChange\"\n    >\n\n      <el-table-column label=\"号码\" min-width=\"110\" prop=\"WHITE_NUMBER\" show-overflow-tooltip>\n      </el-table-column>\n      <el-table-column label=\"添加人\"  min-width=\"100\" prop=\"ADD_USER\" show-overflow-tooltip>\n      </el-table-column>\n      <el-table-column label=\"添加时间\"  min-width=\"160\" prop=\"ADD_TIME\" show-overflow-tooltip>\n      </el-table-column>\n      <el-table-column label=\"状态\" prop=\"STATUS\" show-overflow-tooltip>\n        <template slot-scope=\"{row}\">\n          <template v-if=\"row.STATUS==='1'\">启用</template>\n          <template v-else>停用</template>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"添加原因\" prop=\"ADD_RESON\" show-overflow-tooltip>\n      </el-table-column>\n      <el-table-column label=\"修改人\" prop=\"EDIT_USER\" show-overflow-tooltip>\n      </el-table-column>\n      <el-table-column label=\"修改时间\"  min-width=\"160\" prop=\"EDIT_TIME\" show-overflow-tooltip>\n      </el-table-column>\n      <el-table-column label=\"设置\" align=\"center\" show-overflow-tooltip>\n        <template slot-scope=\"{row}\">\n          <el-button type=\"danger\" :key=\"row.WHITE_NUMBER\" size=\"mini\" plain @click=\"deleteRow(row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"block\" style=\"margin-top: 15px;\">\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"pageCurrent\"\n        :page-sizes=\"[10, 20, 50, 100]\"\n        :page-size=\"pageSize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"pageTotal\">\n      </el-pagination>\n    </div>\n\n    <el-dialog :title=\"'添加白名单'\" :visible.sync=\"addWhiteList\" >\n      <el-form ref=\"dataForm\" :model=\"temp\" :rules=\"rules\" label-position=\"left\" label-width=\"100px\" size=\"mini\" style=\" margin-right:50px;margin-left:50px;\">\n\n        <el-form-item label=\"号码列表\" prop=\"numbers\">\n          <el-input\n            type=\"textarea\"\n            placeholder=\"多个号码间用英文逗号隔开\"\n            v-model=\"temp.numbers\"\n          >\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"备注\">\n          <el-input\n            type=\"textarea\"\n            placeholder=\"请输入内容\"\n            maxlength=\"128\"\n            show-word-limit\n            v-model=\"temp.text\"\n          >\n          </el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addWhiteList = false\">\n          关闭\n        </el-button>\n        <el-button type=\"primary\" @click=\"addWhite('dataForm')\">\n          保存\n        </el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import { fetchdowntimeWhiteList,fetchdowntimeWhiteAdd,deleteWhiteData,fetchdowntimeWhiteListWhite } from '@/api/fraud-management';\n    export default {\n        name: \"downtime-white-list\",\n      data() {\n        var telPass = (rule, value, callback) => {\n          const str1 = value.replace(/\\s/ig, \"\")\n          if (str1 === '') {\n            callback(new Error('请输入手机号'));\n          } else {\n            if(str1.indexOf(\"，\") != -1){\n              callback(new Error('请输入英文逗号'));\n              return false;\n            }\n            let numbers = str1.split(',')\n            for(let i = 0;i<numbers.length;i++){\n              if(!(/^1(3|4|5|6|7|8|9)\\d{9}$/.test(numbers[i]))){\n                callback(new Error('输入格式或者手机号不正确'));\n                return false;\n              }\n            }\n            callback();\n          }\n        };\n        return {\n          numbers: '',\n          types:'',\n          list:[],\n          temp:{\n            numbers:'',\n            text:'',\n            /*list:[]*/\n          },\n          downloadLoading: false,\n          multipleSelection:[],\n          whiteList:[],\n          addWhiteList:false,\n          pageSize:10,//每页显示条数\n          pageCurrent:1,//当前页\n          pageTotal:0,\n          rules:{\n            numbers:[{ validator: telPass, trigger: 'blur' }]\n          }\n        }\n      },\n      created(){\n        this.fetchList();\n      },\n      methods: {\n        deleteRow(row) {\n          let param = {}\n          param.WHITE_NUMBER = row.WHITE_NUMBER;\n          deleteWhiteData(param).then(response => {\n            let key = response.resultState;\n            if(key==='1'){\n              this.$message({\n                message: '删除成功',\n                type: 'success'\n              });\n              this.fetchList();\n            }else {\n              this.$message({\n                message: '删除失败',\n                type: 'warning'\n              });\n            }\n          }).catch(err => {\n            console.log(err)\n          })\n        },\n        onSubmit() {\n          this.fetchList();\n        },\n        fetchList(){\n          let param = {};\n          param.start = (this.pageCurrent-1)*this.pageSize;\n          param.length = this.pageSize;\n          param.numbers=this.numbers;\n          param.types=this.types;\n          fetchdowntimeWhiteList(param).then(response => {\n            this.list = response.data\n            this.pageTotal = response.total;\n          }).catch(err => {\n            console.log(err)\n          })\n\n\n          fetchdowntimeWhiteListWhite(param).then(response => {\n            this.whiteList = response;\n          }).catch(err => {\n            console.log(err)\n          })\n        },\n        addWhite(formName){\n          this.$refs[formName].validate((valid) => {\n            if (valid) {\n              let param = this.temp;\n              param.loginId = sessionStorage.getItem('loginId')\n              /*param.list = param.numbers.split(',');*/\n              fetchdowntimeWhiteAdd(param).then(response => {\n                const key = response.resultState;\n                if(key==='1'){\n                  this.$message({\n                    message: '添加成功',\n                    type: 'success'\n                  });\n                  this.temp = {\n                    numbers:'',\n                    text:''\n                  };\n                  this.fetchList();\n                  this.addWhiteList = false;\n                }else {\n                  this.$message({\n                    message: '添加失败',\n                    type: 'warning'\n                  });\n                }\n              }).catch(err => {\n                console.log(err)\n              })\n            } else {\n              console.log('error submit!!');\n              return false;\n            }\n          });\n        },\n        handleDownload() {\n          this.downloadLoading = true\n          import('@/vendor/Export2Excel').then(excel => {\n            const tHeader = ['号码', '添加人', '添加时间', '状态', '添加原因','修改人','修改时间']\n            const filterVal = ['WHITE_NUMBER', 'ADD_USER', 'ADD_TIME', 'STATUS', 'ADD_RESON','EDIT_USER','EDIT_TIME']\n            const data = this.formatJson(filterVal)\n            excel.export_json_to_excel({\n              header: tHeader,\n              data,\n              filename: '停机白名单'\n            })\n            this.downloadLoading = false\n          })\n        },\n        formatJson(filterVal) {\n          return this.whiteList.map(v => filterVal.map(j => {\n            if (j === 'timestamp') {\n              return parseTime(v[j])\n            } else {\n              return v[j]\n            }\n          }))\n        },\n        handleSelectionChange(val) {\n          this.multipleSelection = val;\n        },\n        handleSizeChange(val) {\n          this.pageSize=val;\n          this.fetchList();\n        },\n        handleCurrentChange(val) {\n          this.pageCurrent=val;\n          this.fetchList();\n        },\n      }\n    }\n</script>\n\n<style>\n  .el-table .cell{\n    white-space: nowrap;\n  }\n</style>\n"]}]}