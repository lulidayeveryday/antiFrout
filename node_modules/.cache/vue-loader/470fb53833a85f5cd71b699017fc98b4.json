{"remainingRequest":"E:\\2020xian\\git-AntiFraud\\node_modules\\_vue-loader@15.9.6@vue-loader\\lib\\index.js??vue-loader-options!E:\\2020xian\\git-AntiFraud\\src\\views\\fraud-management\\report-involved.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\2020xian\\git-AntiFraud\\src\\views\\fraud-management\\report-involved.vue","mtime":1615367742812},{"path":"E:\\2020xian\\git-AntiFraud\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\2020xian\\git-AntiFraud\\node_modules\\_babel-loader@8.2.2@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\2020xian\\git-AntiFraud\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\2020xian\\git-AntiFraud\\node_modules\\_vue-loader@15.9.6@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGludm9sdmVkUmVwb3J0TGlzdCxpbnZvbHZlZFJlcG9ydERvd24saW52b2x2ZWRSZXBvcnRFeGNlbCB9IGZyb20gJ0AvYXBpL2ZyYXVkLW1hbmFnZW1lbnQnCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCiAgZXhwb3J0IGRlZmF1bHQgewogICAgICBuYW1lOiAicmVwb3J0LWludm9sdmVkIiwKICAgIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdXBsb2FkOmZhbHNlLAogICAgICAgIHVwbG9hZGluZzpmYWxzZSwKICAgICAgICBsaXN0OltdLAogICAgICAgIGRvd25sb2FkTG9hZGluZzogZmFsc2UsCiAgICAgICAgZGlhbG9nRm9ybVZpc2libGU6ZmFsc2UsCiAgICAgICAgbXVsdGlwbGVTZWxlY3Rpb246W10sCiAgICAgICAgcGFnZVNpemU6MTAsLy/mr4/pobXmmL7npLrmnaHmlbAKICAgICAgICBwYWdlQ3VycmVudDoxLC8v5b2T5YmN6aG1CiAgICAgICAgcGFnZVRvdGFsOjAsCiAgICAgICAgbGlzdERvd246W10sCiAgICAgICAgdGltZTonJywKICAgICAgICBERVZJQ0VfTlVNQkVSOicnLAogICAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAgIHZpc2libGU6ZmFsc2UsCiAgICAgICAgdHlwZTonJywKICAgICAgICBsaW1pdE51bTogMSwgIC8vIOS4iuS8oGV4Y2VsbOaXtu+8jOWQjOaXtuWFgeiuuOS4iuS8oOeahOacgOWkp+aVsAogICAgICAgIGZpbGVMaXN0OiBbXSwgICAvLyBleGNlbOaWh+S7tuWIl+ihqAogICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpewogICAgICB0aGlzLnRpbWUgPSBbXQogICAgICB0aGlzLnRpbWUucHVzaCh0aGlzLmdldERheSgtMCkpOwogICAgICB0aGlzLnRpbWUucHVzaCh0aGlzLmdldERheSgtMCkpOwogICAgICB0aGlzLmZldGNoTGlzdCgpOwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgZ2V0RGF5KGRheSl7CiAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTsKCiAgICAgICAgdmFyIHRhcmdldGRheV9taWxsaXNlY29uZHM9dG9kYXkuZ2V0VGltZSgpICsgMTAwMCo2MCo2MCoyNCpkYXk7CgogICAgICAgIHRvZGF5LnNldFRpbWUodGFyZ2V0ZGF5X21pbGxpc2Vjb25kcyk7IC8v5rOo5oSP77yM6L+Z6KGM5piv5YWz6ZSu5Luj56CBCgogICAgICAgIHZhciB0WWVhciA9IHRvZGF5LmdldEZ1bGxZZWFyKCk7CiAgICAgICAgdmFyIHRNb250aCA9IHRvZGF5LmdldE1vbnRoKCk7CiAgICAgICAgdmFyIHREYXRlID0gdG9kYXkuZ2V0RGF0ZSgpOwogICAgICAgIHRNb250aCA9IHRoaXMuZG9IYW5kbGVNb250aCh0TW9udGggKyAxKTsKICAgICAgICB0RGF0ZSA9IHRoaXMuZG9IYW5kbGVNb250aCh0RGF0ZSk7CiAgICAgICAgcmV0dXJuIHRZZWFyKyItIit0TW9udGgrIi0iK3REYXRlOwogICAgICB9LAogICAgICBkb0hhbmRsZU1vbnRoKG1vbnRoKXsKICAgICAgICB2YXIgbSA9IG1vbnRoOwogICAgICAgIGlmKG1vbnRoLnRvU3RyaW5nKCkubGVuZ3RoID09IDEpewogICAgICAgICAgbSA9ICIwIiArIG1vbnRoOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbTsKICAgICAgfSwKICAgICAgb25TdWJtaXQoKSB7CiAgICAgICAgdGhpcy5mZXRjaExpc3QoKTsKICAgICAgfSwKICAgICAgZmV0Y2hMaXN0KCl7CiAgICAgICAgdGhpcy5sb2FkaW5nPXRydWU7CiAgICAgICAgbGV0IHBhcmFtID0ge307CiAgICAgICAgcGFyYW0uc3RhcnQgPSAodGhpcy5wYWdlQ3VycmVudC0xKSp0aGlzLnBhZ2VTaXplOwogICAgICAgIHBhcmFtLmxlbmd0aCA9IHRoaXMucGFnZVNpemU7CiAgICAgICAgcGFyYW0uREVWSUNFX05VTUJFUiA9IHRoaXMuREVWSUNFX05VTUJFUjsKICAgICAgICBsZXQgdGltZSA9IHRoaXMudGltZTsKICAgICAgICBpZih0aW1lIT0nJyl7CiAgICAgICAgICBsZXQgc3RhcnRUaW1lID0gbW9tZW50KHRpbWVbMF0pLmZvcm1hdCgnWVlZWS1NTS1ERCcpOwogICAgICAgICAgbGV0IGVuZFRpbWUgPSBtb21lbnQodGltZVsxXSkuZm9ybWF0KCdZWVlZLU1NLUREJyk7CiAgICAgICAgICBwYXJhbS5zdGFydFRpbWU9c3RhcnRUaW1lOwogICAgICAgICAgcGFyYW0uZW5kVGltZT1lbmRUaW1lOwogICAgICAgIH1lbHNlIHsKICAgICAgICAgIHBhcmFtLnN0YXJ0VGltZT0nJzsKICAgICAgICAgIHBhcmFtLmVuZFRpbWU9Jyc7CiAgICAgICAgfQogICAgICAgIGludm9sdmVkUmVwb3J0TGlzdChwYXJhbSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLmxpc3QgPSByZXNwb25zZS5kYXRhCiAgICAgICAgICB0aGlzLnBhZ2VUb3RhbCA9IHJlc3BvbnNlLnRvdGFsOwogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgaW52b2x2ZWRSZXBvcnREb3duKHBhcmFtKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgdGhpcy5saXN0RG93biA9IHJlc3BvbnNlCiAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgICB9KQogICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KQoKICAgICAgfSwKICAgICAgb25TdWJtaXQoKSB7CiAgICAgICAgdGhpcy5mZXRjaExpc3QoKTsKICAgICAgfSwKICAgICAgaGFuZGxlRG93bmxvYWQoKSB7CiAgICAgICAgdGhpcy5kb3dubG9hZExvYWRpbmcgPSB0cnVlCiAgICAgICAgaW1wb3J0KCdAL3ZlbmRvci9FeHBvcnQyRXhjZWwnKS50aGVuKGV4Y2VsID0+IHsKICAgICAgICAgIGNvbnN0IHRIZWFkZXIgPSBbCiAgICAgICAgICAgICflvZLlsZ7luIInLAogICAgICAgICAgICAn6K+I6aqX5Y+356CBJywKICAgICAgICAgICAgJ+acuuS4u+Wnk+WQjScsCiAgICAgICAgICAgICfor4Hku7blj7fnoIEnLAogICAgICAgICAgICAn5Y+R5bGV5rig6YGTJywKICAgICAgICAgICAgJ+WFpee9keaXtumXtCcsCiAgICAgICAgICAgICfmvKvmuLjlnLAnCiAgICAgICAgICBdCiAgICAgICAgICBjb25zdCBmaWx0ZXJWYWwgPSBbCiAgICAgICAgICAgICdPV05FUlNISVAnLAogICAgICAgICAgICAnREVWSUNFX05VTUJFUicsCiAgICAgICAgICAgICdDVVNUX05BTUUnLAogICAgICAgICAgICAnUFNQVF9JRCcsCiAgICAgICAgICAgICdDSEFOTkVMX05BTUUnLAogICAgICAgICAgICAnSU5ORVRfREFURScsCiAgICAgICAgICAgICdST0FNX0NJVFlfREVTQ18xJwogICAgICAgICAgXQogICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZm9ybWF0SnNvbihmaWx0ZXJWYWwpCiAgICAgICAgICBleGNlbC5leHBvcnRfanNvbl90b19leGNlbCh7CiAgICAgICAgICAgIGhlYWRlcjogdEhlYWRlciwKICAgICAgICAgICAgZGF0YSwKICAgICAgICAgICAgZmlsZW5hbWU6ICfmtonmoYjlj7fnoIHlj4oxMjMyMeS4vuaKpScKICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLmRvd25sb2FkTG9hZGluZyA9IGZhbHNlCiAgICAgICAgfSkKICAgICAgfSwKICAgICAgZm9ybWF0SnNvbihmaWx0ZXJWYWwpIHsKICAgICAgICByZXR1cm4gdGhpcy5saXN0RG93bi5tYXAodiA9PiBmaWx0ZXJWYWwubWFwKGogPT4gewogICAgICAgICAgaWYgKGogPT09ICd0aW1lc3RhbXAnKSB7CiAgICAgICAgICAgIHJldHVybiBwYXJzZVRpbWUodltqXSkKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiB2W2pdCiAgICAgICAgICB9CiAgICAgICAgfSkpCiAgICAgIH0sCiAgICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gdmFsOwogICAgICB9LAogICAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICAgIHRoaXMucGFnZVNpemU9dmFsOwogICAgICAgIHRoaXMuZmV0Y2hMaXN0KCk7CiAgICAgIH0sCiAgICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgICAgdGhpcy5wYWdlQ3VycmVudD12YWw7CiAgICAgICAgdGhpcy5mZXRjaExpc3QoKTsKICAgICAgfSwKICAgICAgLy/nu4Tku7bmlrnms5UKICAgICAgaW5pdChwYXJhbXMpewogICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWUKICAgICAgICB0aGlzLnR5cGUgPSBwYXJhbXMKICAgICAgfSwKICAgICAgLy8g5paH5Lu26LaF5Ye65Liq5pWw6ZmQ5Yi25pe255qE6ZKp5a2QCiAgICAgIGV4Y2VlZEZpbGUoZmlsZXMsIGZpbGVMaXN0KSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKGDlj6rog73pgInmi6kgJHt0aGlzLmxpbWl0TnVtfSDkuKrmlofku7bvvIzlvZPliY3lhbHpgInmi6nkuoYgJHtmaWxlcy5sZW5ndGggKyBmaWxlTGlzdC5sZW5ndGh9IOS4qmApOwogICAgICB9LAogICAgICAvLyDmlofku7bnirbmgIHmlLnlj5jml7bnmoTpkqnlrZAKICAgICAgZmlsZUNoYW5nZShmaWxlLCBmaWxlTGlzdCkgewogICAgICAgIGNvbnNvbGUubG9nKGZpbGUucmF3KTsKICAgICAgICB0aGlzLmZpbGVMaXN0LnB1c2goZmlsZS5yYXcpIDsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZpbGVMaXN0KTsKICAgICAgfSwKICAgICAgLy8g5LiK5Lyg5paH5Lu25LmL5YmN55qE6ZKp5a2QLCDlj4LmlbDkuLrkuIrkvKDnmoTmlofku7Ys6Iul6L+U5ZueIGZhbHNlIOaIluiAhei/lOWbniBQcm9taXNlIOS4lOiiqyByZWplY3TvvIzliJnlgZzmraLkuIrkvKAKICAgICAgYmVmb3JlVXBsb2FkRmlsZShmaWxlKSB7CiAgICAgICAgY29uc29sZS5sb2coJ2JlZm9yZSB1cGxvYWQnKTsKICAgICAgICBjb25zb2xlLmxvZyhmaWxlKTsKICAgICAgICBsZXQgZXh0ZW5zaW9uID0gZmlsZS5uYW1lLnN1YnN0cmluZyhmaWxlLm5hbWUubGFzdEluZGV4T2YoJy4nKSsxKTsKICAgICAgICBsZXQgc2l6ZSA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0OwogICAgICAgIGlmKGV4dGVuc2lvbiAhPT0gJ3hsc3gnKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+WPquiDveS4iuS8oOWQjue8gOaYry54bHN455qE5paH5Lu2Jyk7CiAgICAgICAgfQogICAgICAgIC8qaWYoc2l6ZSA+IDEwKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+aWh+S7tuWkp+Wwj+S4jeW+l+i2hei/hzEwTScpOwogICAgICAgIH0qLwogICAgICB9LAogICAgICAvLyDmlofku7bkuIrkvKDmiJDlip/ml7bnmoTpkqnlrZAKICAgICAgaGFuZGxlU3VjY2VzcyhyZXMsIGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmlofku7bkuIrkvKDmiJDlip8nKTsKICAgICAgfSwKICAgICAgLy8g5paH5Lu25LiK5Lyg5aSx6LSl5pe255qE6ZKp5a2QCiAgICAgIGhhbmRsZUVycm9yKGVyciwgZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmlofku7bkuIrkvKDlpLHotKUnKTsKICAgICAgfSwKICAgICAgVXBsb2FkVXJsOmZ1bmN0aW9uKCl7CiAgICAgICAgLy8g5Zug5Li6YWN0aW9u5Y+C5pWw5piv5b+F5aGr6aG577yM5oiR5Lus5L2/55So5LqM5qyh56Gu6K6k6L+b6KGM5paH5Lu25LiK5Lyg5pe277yM55u05o6l5aGr5LiK5Lyg5paH5Lu255qEdXJs5Lya5Zug5Li65rKh5pyJ5Y+C5pWw5a+86Ie0YXBp5oqlNDA077yM5omA5Lul6L+Z6YeM5bCGYWN0aW9u6K6+572u5Li65LiA5Liq6L+U5Zue5Li656m655qE5pa55rOV5bCx6KGM77yM6YG/5YWN5oqb6ZSZCiAgICAgICAgcmV0dXJuICIiCiAgICAgIH0sCiAgICAgIHVwbG9hZEZpbGUoKSB7CiAgICAgICAgdGhpcy51cGxvYWRpbmcgPSB0cnVlOwogICAgICAgIGlmICh0aGlzLmZpbGVMaXN0Lmxlbmd0aCA9PT0gMCl7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+S4iuS8oOaWh+S7ticpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsZXQgZm9ybSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgZm9ybS5hcHBlbmQoJ2ZpbGUnLCB0aGlzLmZpbGVMaXN0WzBdKTsKICAgICAgICAgIGZvcm0uYXBwZW5kKCd0eXBlJywgdGhpcy50eXBlKTsKICAgICAgICAgIGludm9sdmVkUmVwb3J0RXhjZWwoZm9ybSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIGlmKHJlc3BvbnNlLnJlc3VsdFN0YXRlID09PScxJyl7CiAgICAgICAgICAgICAgdGhpcy51cGxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfkuIrkvKDmiJDlip8nLAogICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdGhpcy5mZXRjaExpc3QoKTsKICAgICAgICAgICAgICB0aGlzLnVwbG9hZCA9IGZhbHNlOwogICAgICAgICAgICAgIHRoaXMuZmlsZUxpc3QgPSBbXQogICAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKHRoaXMucmVzdWx0TWVzc2FnZSk7CiAgICAgICAgICAgICAgdGhpcy51cGxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgICAgfSkKCiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQo="},{"version":3,"sources":["report-involved.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"report-involved.vue","sourceRoot":"src/views/fraud-management","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"filter-container\">\n      <!--<div style=\"display:inline-block;padding-right: 20px;\">\n        <span style=\"padding: 0 8px 0 0;\">手机号码</span>\n        <el-input style=\"display: inline-block;width: 196px;\" v-model=\"DEVICE_NUMBER\" placeholder=\"请输入手机号码\"></el-input>\n      </div>-->\n      <div style=\"display:inline-block;padding-right: 20px;\">\n        <span style=\"padding: 0 8px 0 0;\">统计时间</span>\n        <el-date-picker\n          v-model=\"time\"\n          type=\"daterange\"\n          range-separator=\"至\"\n          start-placeholder=\"开始日期\"\n          end-placeholder=\"结束日期\">\n        </el-date-picker>\n      </div>\n      <el-button class=\"filter-item\" style=\"margin: 0 7px 0;\" type=\"primary\" icon=\"el-icon-search\" @click=\"onSubmit\">\n        查询\n      </el-button>\n      <el-button :loading=\"downloadLoading\" style=\"margin:0  7px 0;\" type=\"success\" icon=\"el-icon-document\" @click=\"handleDownload\">\n        导出表格\n      </el-button>\n      <el-button class=\"filter-item\" style=\"margin: 0 7px 0;\" type=\"warning\" icon=\"el-icon-upload\" @click=\"upload = true\">\n        上传\n      </el-button>\n    </div>\n\n\n\n    <el-table\n      key=\"tableKey\"\n      v-loading=\"loading\"\n      :data=\"list\"\n      border\n      fit\n      style=\"min-width: 100%;\"\n      @selection-change=\"handleSelectionChange\"\n    >\n      <el-table-column label=\"归属市\" prop=\"OWNERSHIP\" show-overflow-tooltip>\n      </el-table-column>\n      <el-table-column label=\"诈骗号码\" prop=\"DEVICE_NUMBER\" show-overflow-tooltip>\n      </el-table-column>\n      <el-table-column label=\"机主姓名\" prop=\"CUST_NAME\" show-overflow-tooltip>\n      </el-table-column>\n      <el-table-column label=\"证件号码\" prop=\"PSPT_ID\" show-overflow-tooltip>\n      </el-table-column>\n      <el-table-column label=\"发展渠道\" prop=\"CHANNEL_NAME\" show-overflow-tooltip>\n      </el-table-column>\n      <el-table-column label=\"入网时间\" prop=\"INNET_DATE\" show-overflow-tooltip>\n      </el-table-column>\n      <el-table-column label=\"漫游地\" prop=\"ROAM_CITY_DESC_1\" show-overflow-tooltip>\n      </el-table-column>\n    </el-table>\n    <div class=\"block\" style=\"margin-top: 15px;\">\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"pageCurrent\"\n        :page-sizes=\"[10, 20, 50, 100]\"\n        :page-size=\"pageSize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"pageTotal\">\n      </el-pagination>\n    </div>\n\n\n    <el-dialog :title=\"'上传文件'\" :visible.sync=\"upload\"  style=\"margin-top: -9vh;\">\n      <el-upload drag\n                 :limit=limitNum\n                 :auto-upload=\"false\"\n                 accept=\".xlsx\"\n                 :action=\"UploadUrl()\"\n                 :before-upload=\"beforeUploadFile\"\n                 :on-change=\"fileChange\"\n                 :on-exceed=\"exceedFile\"\n                 :on-success=\"handleSuccess\"\n                 :on-error=\"handleError\"\n                 :file-list=\"fileList\">\n        <i class=\"el-icon-upload\"></i>\n        <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\n        <div class=\"el-upload__tip\" slot=\"tip\">只能上传xlsx文件<!--，且不超过10M--></div>\n      </el-upload>\n      <br/>\n      <el-button size=\"small\" type=\"primary\" @click=\"uploadFile\" v-loading=\"uploading\">立即上传</el-button>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import { involvedReportList,involvedReportDown,involvedReportExcel } from '@/api/fraud-management'\n  import moment from 'moment'\n  import axios from 'axios'\n    export default {\n        name: \"report-involved\",\n      data() {\n        return {\n          upload:false,\n          uploading:false,\n          list:[],\n          downloadLoading: false,\n          dialogFormVisible:false,\n          multipleSelection:[],\n          pageSize:10,//每页显示条数\n          pageCurrent:1,//当前页\n          pageTotal:0,\n          listDown:[],\n          time:'',\n          DEVICE_NUMBER:'',\n          loading: false,\n          visible:false,\n          type:'',\n          limitNum: 1,  // 上传excell时，同时允许上传的最大数\n          fileList: [],   // excel文件列表\n        }\n      },\n      created(){\n        this.time = []\n        this.time.push(this.getDay(-0));\n        this.time.push(this.getDay(-0));\n        this.fetchList();\n      },\n      methods: {\n        getDay(day){\n          var today = new Date();\n\n          var targetday_milliseconds=today.getTime() + 1000*60*60*24*day;\n\n          today.setTime(targetday_milliseconds); //注意，这行是关键代码\n\n          var tYear = today.getFullYear();\n          var tMonth = today.getMonth();\n          var tDate = today.getDate();\n          tMonth = this.doHandleMonth(tMonth + 1);\n          tDate = this.doHandleMonth(tDate);\n          return tYear+\"-\"+tMonth+\"-\"+tDate;\n        },\n        doHandleMonth(month){\n          var m = month;\n          if(month.toString().length == 1){\n            m = \"0\" + month;\n          }\n          return m;\n        },\n        onSubmit() {\n          this.fetchList();\n        },\n        fetchList(){\n          this.loading=true;\n          let param = {};\n          param.start = (this.pageCurrent-1)*this.pageSize;\n          param.length = this.pageSize;\n          param.DEVICE_NUMBER = this.DEVICE_NUMBER;\n          let time = this.time;\n          if(time!=''){\n            let startTime = moment(time[0]).format('YYYY-MM-DD');\n            let endTime = moment(time[1]).format('YYYY-MM-DD');\n            param.startTime=startTime;\n            param.endTime=endTime;\n          }else {\n            param.startTime='';\n            param.endTime='';\n          }\n          involvedReportList(param).then(response => {\n            this.list = response.data\n            this.pageTotal = response.total;\n            this.loading = false;\n\n            involvedReportDown(param).then(response => {\n              this.listDown = response\n            }).catch(err => {\n              console.log(err)\n            })\n          }).catch(err => {\n            console.log(err)\n            this.loading = false;\n          })\n\n        },\n        onSubmit() {\n          this.fetchList();\n        },\n        handleDownload() {\n          this.downloadLoading = true\n          import('@/vendor/Export2Excel').then(excel => {\n            const tHeader = [\n              '归属市',\n              '诈骗号码',\n              '机主姓名',\n              '证件号码',\n              '发展渠道',\n              '入网时间',\n              '漫游地'\n            ]\n            const filterVal = [\n              'OWNERSHIP',\n              'DEVICE_NUMBER',\n              'CUST_NAME',\n              'PSPT_ID',\n              'CHANNEL_NAME',\n              'INNET_DATE',\n              'ROAM_CITY_DESC_1'\n            ]\n            const data = this.formatJson(filterVal)\n            excel.export_json_to_excel({\n              header: tHeader,\n              data,\n              filename: '涉案号码及12321举报'\n            })\n            this.downloadLoading = false\n          })\n        },\n        formatJson(filterVal) {\n          return this.listDown.map(v => filterVal.map(j => {\n            if (j === 'timestamp') {\n              return parseTime(v[j])\n            } else {\n              return v[j]\n            }\n          }))\n        },\n        handleSelectionChange(val) {\n          this.multipleSelection = val;\n        },\n        handleSizeChange(val) {\n          this.pageSize=val;\n          this.fetchList();\n        },\n        handleCurrentChange(val) {\n          this.pageCurrent=val;\n          this.fetchList();\n        },\n        //组件方法\n        init(params){\n          this.visible = true\n          this.type = params\n        },\n        // 文件超出个数限制时的钩子\n        exceedFile(files, fileList) {\n          this.$message.warning(`只能选择 ${this.limitNum} 个文件，当前共选择了 ${files.length + fileList.length} 个`);\n        },\n        // 文件状态改变时的钩子\n        fileChange(file, fileList) {\n          console.log(file.raw);\n          this.fileList.push(file.raw) ;\n          console.log(this.fileList);\n        },\n        // 上传文件之前的钩子, 参数为上传的文件,若返回 false 或者返回 Promise 且被 reject，则停止上传\n        beforeUploadFile(file) {\n          console.log('before upload');\n          console.log(file);\n          let extension = file.name.substring(file.name.lastIndexOf('.')+1);\n          let size = file.size / 1024 / 1024;\n          if(extension !== 'xlsx') {\n            this.$message.warning('只能上传后缀是.xlsx的文件');\n          }\n          /*if(size > 10) {\n            this.$message.warning('文件大小不得超过10M');\n          }*/\n        },\n        // 文件上传成功时的钩子\n        handleSuccess(res, file, fileList) {\n          this.$message.success('文件上传成功');\n        },\n        // 文件上传失败时的钩子\n        handleError(err, file, fileList) {\n          this.$message.error('文件上传失败');\n        },\n        UploadUrl:function(){\n          // 因为action参数是必填项，我们使用二次确认进行文件上传时，直接填上传文件的url会因为没有参数导致api报404，所以这里将action设置为一个返回为空的方法就行，避免抛错\n          return \"\"\n        },\n        uploadFile() {\n          this.uploading = true;\n          if (this.fileList.length === 0){\n            this.$message.warning('请上传文件');\n          } else {\n            let form = new FormData();\n            form.append('file', this.fileList[0]);\n            form.append('type', this.type);\n            involvedReportExcel(form).then(response => {\n              if(response.resultState ==='1'){\n                this.uploading = false;\n                this.$message({\n                  message: '上传成功',\n                  type: 'success'\n                });\n                this.fetchList();\n                this.upload = false;\n                this.fileList = []\n              }else {\n                this.$message.warning(this.resultMessage);\n                this.uploading = false;\n              }\n            }).catch(err => {\n              console.log(err)\n            })\n\n          }\n        }\n      }\n    }\n</script>\n\n<style>\n  .el-table .cell{\n    white-space: nowrap;\n  }\n</style>\n"]}]}