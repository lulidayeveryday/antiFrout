{"remainingRequest":"E:\\2020xian\\git-AntiFraud\\node_modules\\_babel-loader@8.2.2@babel-loader\\lib\\index.js!E:\\2020xian\\git-AntiFraud\\node_modules\\_eslint-loader@2.2.1@eslint-loader\\index.js??ref--13-0!E:\\2020xian\\git-AntiFraud\\src\\store\\modules\\permission.js","dependencies":[{"path":"E:\\2020xian\\git-AntiFraud\\src\\store\\modules\\permission.js","mtime":1609317559821},{"path":"E:\\2020xian\\git-AntiFraud\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\2020xian\\git-AntiFraud\\node_modules\\_babel-loader@8.2.2@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\2020xian\\git-AntiFraud\\node_modules\\_eslint-loader@2.2.1@eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgZnJvbSAiRTovMjAyMHhpYW4vZ2l0LUFudGlGcmF1ZC9ub2RlX21vZHVsZXMvX0BiYWJlbF9ydW50aW1lQDcuMTIuNUBAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovMjAyMHhpYW4vZ2l0LUFudGlGcmF1ZC9ub2RlX21vZHVsZXMvX0BiYWJlbF9ydW50aW1lQDcuMTIuNUBAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJFOi8yMDIweGlhbi9naXQtQW50aUZyYXVkL25vZGVfbW9kdWxlcy9fQGJhYmVsX3J1bnRpbWVANy4xMi41QEBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IHsgYXN5bmNSb3V0ZXMsIGNvbnN0YW50Um91dGVzIH0gZnJvbSAnQC9yb3V0ZXInOwppbXBvcnQgeyBnZXRSb3V0ZXMgfSBmcm9tICdAL2FwaS9yb2xlJzsgLy8g6I635Y+W6Lev55Sx55qE5o6l5Y+j5pa55rOVCgppbXBvcnQgTGF5b3V0IGZyb20gJ0AvbGF5b3V0JzsKaW1wb3J0IG9yZ2FuaXphdGlvbiBmcm9tICdAL3ZpZXdzL2xpbWl0cy1hdXRob3JpdHkvb3JnYW5pemF0aW9uJzsKaW1wb3J0IGNoYW5uZWxNYW5hZ2VtZW50IGZyb20gJ0Avdmlld3MvbGltaXRzLWF1dGhvcml0eS9jaGFubmVsLW1hbmFnZW1lbnQnOwppbXBvcnQgcm9sZU1hbmFnZW1lbnQgZnJvbSAnQC92aWV3cy9saW1pdHMtYXV0aG9yaXR5L3JvbGUtbWFuYWdlbWVudCc7CmltcG9ydCB1c2VyIGZyb20gJ0Avdmlld3MvbGltaXRzLWF1dGhvcml0eS91c2VyJzsKaW1wb3J0IGJhdGNoU2h1dGRvd24gZnJvbSAnQC92aWV3cy9mcmF1ZC1tYW5hZ2VtZW50L2JhdGNoLXNodXRkb3duJzsKaW1wb3J0IGRvd250aW1lV2hpdGVMaXN0IGZyb20gJ0Avdmlld3MvZnJhdWQtbWFuYWdlbWVudC9kb3dudGltZS13aGl0ZS1saXN0JzsKaW1wb3J0IGZyYXVkRGV0YWlscyBmcm9tICdAL3ZpZXdzL2ZyYXVkLW1hbmFnZW1lbnQvZnJhdWQtZGV0YWlscyc7CmltcG9ydCBoYXdrZXllRGFpbHkgZnJvbSAnQC92aWV3cy9mcmF1ZC1tYW5hZ2VtZW50L2hhd2tleWUtZGFpbHknOwovKioKICogVXNlIG1ldGEucm9sZSB0byBkZXRlcm1pbmUgaWYgdGhlIGN1cnJlbnQgdXNlciBoYXMgcGVybWlzc2lvbgogKiBAcGFyYW0gcm9sZXMKICogQHBhcmFtIHJvdXRlCiAqLwoKZnVuY3Rpb24gaGFzUGVybWlzc2lvbihyb2xlcywgcm91dGUpIHsKICBpZiAocm91dGUubWV0YSAmJiByb3V0ZS5tZXRhLnJvbGVzKSB7CiAgICByZXR1cm4gcm9sZXMuc29tZShmdW5jdGlvbiAocm9sZSkgewogICAgICByZXR1cm4gcm91dGUubWV0YS5yb2xlcy5pbmNsdWRlcyhyb2xlKTsKICAgIH0pOwogIH0gZWxzZSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KLyoqCiAqIOaKiuWQjuWPsOi/lOWbnuiPnOWNlee7hOijheaIkHJvdXRlc+imgeaxgueahOagvOW8jwogKiBAcGFyYW0geyp9IHJvdXRlcwogKi8KCgpleHBvcnQgZnVuY3Rpb24gZ2V0QXN5bmNSb3V0ZXMocm91dGVzKSB7CiAgY29uc29sZS5sb2cocm91dGVzKTsKCiAgdmFyIHJlcyA9IF90b0NvbnN1bWFibGVBcnJheShyb3V0ZXMpOwoKICB2YXIga2V5cyA9IFsncGF0aCcsICduYW1lJywgJ2NoaWxkcmVuJywgJ3JlZGlyZWN0JywgJ2Fsd2F5c1Nob3cnLCAnbWV0YScsICdoaWRkZW4nXTsKICAvKnJvdXRlcy5mb3JFYWNoKGl0ZW0gPT4gewogICAgIGNvbnN0IG5ld0l0ZW0gPSB7fQogICAgaWYgKGl0ZW0uY29tcG9uZW50KSB7CiAgICAgIGlmIChpdGVtLmNvbXBvbmVudCA9PT0gJ2xheW91dC9MYXlvdXQnKSB7CiAgICAgICAgbmV3SXRlbS5jb21wb25lbnQgPSBMYXlvdXQKICAgICAgfSBlbHNlIHsKICAgICAgIH0KICAgIH0KICAgIGZvciAoY29uc3Qga2V5IGluIGl0ZW0pIHsKICAgICAgaWYgKGtleXMuaW5jbHVkZXMoa2V5KSkgewogICAgICAgIG5ld0l0ZW1ba2V5XSA9IGl0ZW1ba2V5XQogICAgICB9CiAgICB9CiAgICBpZiAobmV3SXRlbS5jaGlsZHJlbiAmJiBuZXdJdGVtLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICBuZXdJdGVtLmNoaWxkcmVuID0gZ2V0QXN5bmNSb3V0ZXMoaXRlbS5jaGlsZHJlbikKICAgIH0KICAgIHJlcy5wdXNoKG5ld0l0ZW0pCiAgfSkqLwoKICByZXR1cm4gcmVzOwp9Ci8qKgogKiBGaWx0ZXIgYXN5bmNocm9ub3VzIHJvdXRpbmcgdGFibGVzIGJ5IHJlY3Vyc2lvbgogKiBAcGFyYW0gcm91dGVzIGFzeW5jUm91dGVzCiAqIEBwYXJhbSByb2xlcwogKi8KCmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJBc3luY1JvdXRlcyhyb3V0ZXMsIHJvbGVzKSB7CiAgdmFyIHJlcyA9IFtdOwogIHJvdXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChyb3V0ZSkgewogICAgdmFyIHRtcCA9IF9vYmplY3RTcHJlYWQoe30sIHJvdXRlKTsKCiAgICBpZiAoaGFzUGVybWlzc2lvbihyb2xlcywgdG1wKSkgewogICAgICBpZiAodG1wLmNoaWxkcmVuKSB7CiAgICAgICAgdG1wLmNoaWxkcmVuID0gZmlsdGVyQXN5bmNSb3V0ZXModG1wLmNoaWxkcmVuLCByb2xlcyk7CiAgICAgIH0KCiAgICAgIHJlcy5wdXNoKHRtcCk7CiAgICB9CiAgfSk7CiAgY29uc29sZTsKICByZXR1cm4gcmVzOwp9CnZhciBzdGF0ZSA9IHsKICByb3V0ZXM6IFtdLAogIGFkZFJvdXRlczogW10KfTsKdmFyIG11dGF0aW9ucyA9IHsKICBTRVRfUk9VVEVTOiBmdW5jdGlvbiBTRVRfUk9VVEVTKHN0YXRlLCByb3V0ZXMpIHsKICAgIHN0YXRlLmFkZFJvdXRlcyA9IHJvdXRlczsKICAgIHN0YXRlLnJvdXRlcyA9IGNvbnN0YW50Um91dGVzLmNvbmNhdChyb3V0ZXMpOwogIH0KfTsKZXhwb3J0IHZhciBsb2FkVmlldyA9IGZ1bmN0aW9uIGxvYWRWaWV3KHZpZXcpIHsKICAvLyDot6/nlLHmh5LliqDovb0KICByZXR1cm4gZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgIHJldHVybiByZXF1aXJlKFsiQC92aWV3cy8iLmNvbmNhdCh2aWV3KV0sIHJlc29sdmUpOwogIH07Cn07CnZhciBhY3Rpb25zID0gewogIGdlbmVyYXRlUm91dGVzOiBmdW5jdGlvbiBnZW5lcmF0ZVJvdXRlcyhfcmVmLCByb2xlcykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgIHZhciBhY2Nlc3NlZFJvdXRlczsKICAgICAgdmFyIGFzeW5jUm91dGVzOwogICAgICB2YXIgcGFyYW0gPSB7fTsKICAgICAgcGFyYW0ubG9naW5JZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2xvZ2luSWQnKTsKICAgICAgdmFyIHRlc3Q7CiAgICAgIGdldFJvdXRlcyhwYXJhbSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB0ZXN0ID0gcmVzcG9uc2U7CiAgICAgICAgdmFyIHJvbGUgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgcm93ID0gdGVzdFtpXTsKICAgICAgICAgIHZhciBpbmZvID0ge307CgogICAgICAgICAgaWYgKGkgPT09IDApIHsKICAgICAgICAgICAgaWYgKHJvdy5uYW1lID09PSAn6aaW6aG1JykgewogICAgICAgICAgICAgIHZhciBhID0gewogICAgICAgICAgICAgICAgcGF0aDogJy8nLAogICAgICAgICAgICAgICAgY29tcG9uZW50OiBMYXlvdXQsCiAgICAgICAgICAgICAgICByZWRpcmVjdDogJy9pbmRleCcsCiAgICAgICAgICAgICAgICBhbHdheXNTaG93OiBmYWxzZSwKICAgICAgICAgICAgICAgIC8vIHdpbGwgYWx3YXlzIHNob3cgdGhlIHJvb3QgbWVudQogICAgICAgICAgICAgICAgbmFtZTogJ+mmlumhtScsCiAgICAgICAgICAgICAgICBtZXRhOiB7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6aaW6aG1JywKICAgICAgICAgICAgICAgICAgaWNvbjogJ2Rhc2hib2FyZCcgLy8geW91IGNhbiBzZXQgcm9sZXMgaW4gcm9vdCBuYXYKCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgY2hpbGRyZW46IFt7CiAgICAgICAgICAgICAgICAgIHBhdGg6ICdpbmRleCcsCiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCdAL3ZpZXdzL2Rhc2hib2FyZC9pbmRleCcpKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgbmFtZTogJ+mmlumhtScsCiAgICAgICAgICAgICAgICAgIG1ldGE6IHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+mmlumhtScsCiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Rhc2hib2FyZCcsCiAgICAgICAgICAgICAgICAgICAgYWZmaXg6IHRydWUKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIHJvbGUucHVzaChhKTsKICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB2YXIgYiA9IHsKICAgICAgICAgICAgICAgIHBhdGg6ICcvJywKICAgICAgICAgICAgICAgIGNvbXBvbmVudDogTGF5b3V0LAogICAgICAgICAgICAgICAgcmVkaXJlY3Q6ICcvaW5kZXgnLAogICAgICAgICAgICAgICAgYWx3YXlzU2hvdzogZmFsc2UsCiAgICAgICAgICAgICAgICAvLyB3aWxsIGFsd2F5cyBzaG93IHRoZSByb290IG1lbnUKICAgICAgICAgICAgICAgIG5hbWU6ICfpppbpobUnLAogICAgICAgICAgICAgICAgbWV0YTogewogICAgICAgICAgICAgICAgICB0aXRsZTogJ+mmlumhtScsCiAgICAgICAgICAgICAgICAgIGljb246ICdkYXNoYm9hcmQnIC8vIHlvdSBjYW4gc2V0IHJvbGVzIGluIHJvb3QgbmF2CgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbewogICAgICAgICAgICAgICAgICBwYXRoOiAnaW5kZXgnLAogICAgICAgICAgICAgICAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgnQC92aWV3cy9lcnJvci1wYWdlLzQwMScpKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgbmFtZTogJ+mmlumhtScsCiAgICAgICAgICAgICAgICAgIG1ldGE6IHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+mmlumhtScsCiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Rhc2hib2FyZCcKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIHJvbGUucHVzaChiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmIChyb3cuY2hpbGRyZW4ubGVuZ3RoID4gMCkgewogICAgICAgICAgICBpbmZvLnBhdGggPSByb3cucGF0aDsKICAgICAgICAgICAgaW5mby5jb21wb25lbnQgPSBMYXlvdXQ7CiAgICAgICAgICAgIGluZm8ucmVkaXJlY3QgPSByb3cucmVkaXJlY3Q7CiAgICAgICAgICAgIGluZm8uYWx3YXlzU2hvdyA9IHRydWU7CiAgICAgICAgICAgIGluZm8ubmFtZSA9IHJvdy5uYW1lOwogICAgICAgICAgICBpbmZvLm1ldGEgPSB7fTsKICAgICAgICAgICAgaW5mby5tZXRhLmljb24gPSByb3cuaWNvbjsKICAgICAgICAgICAgaW5mby5tZXRhLnRpdGxlID0gcm93LnRpdGxlOwogICAgICAgICAgICBpbmZvLmNoaWxkcmVuID0gW107CgogICAgICAgICAgICBmb3IgKHZhciBtID0gMDsgbSA8IHJvdy5jaGlsZHJlbi5sZW5ndGg7IG0rKykgewogICAgICAgICAgICAgIHZhciBjaGlsZEluZm8gPSB7fTsKICAgICAgICAgICAgICBjaGlsZEluZm8ucGF0aCA9IHJvdy5jaGlsZHJlblttXS5wYXRoOwogICAgICAgICAgICAgIGNoaWxkSW5mby5uYW1lID0gcm93LmNoaWxkcmVuW21dLm5hbWU7CiAgICAgICAgICAgICAgY2hpbGRJbmZvLm1ldGEgPSB7fTsKICAgICAgICAgICAgICBjaGlsZEluZm8ubWV0YS5pY29uID0gcm93LmNoaWxkcmVuW21dLmljb247CiAgICAgICAgICAgICAgY2hpbGRJbmZvLm1ldGEudGl0bGUgPSByb3cuY2hpbGRyZW5bbV0udGl0bGU7CiAgICAgICAgICAgICAgdmFyIGNvbXAgPSByb3cuY2hpbGRyZW5bbV0uY29tcG9uZW50OwogICAgICAgICAgICAgIC8qaWYoY29tcC5pbmRleE9mKCJoYXdrZXllLWRhaWx5IikgIT0gLTEpewogICAgICAgICAgICAgICAgY2hpbGRJbmZvLmNvbXBvbmVudCA9ICBoYXdrZXllRGFpbHk7CiAgICAgICAgICAgICAgfWVsc2UgaWYoY29tcC5pbmRleE9mKCJmcmF1ZC1kZXRhaWxzIikgIT0gLTEpewogICAgICAgICAgICAgICAgY2hpbGRJbmZvLmNvbXBvbmVudCA9ICBmcmF1ZERldGFpbHM7CiAgICAgICAgICAgICAgfWVsc2UgaWYoY29tcC5pbmRleE9mKCJkb3dudGltZS13aGl0ZS1saXN0IikgIT0gLTEpewogICAgICAgICAgICAgICAgY2hpbGRJbmZvLmNvbXBvbmVudCA9ICBkb3dudGltZVdoaXRlTGlzdDsKICAgICAgICAgICAgICB9ZWxzZSBpZihjb21wLmluZGV4T2YoImJhdGNoLXNodXRkb3duIikgIT0gLTEpewogICAgICAgICAgICAgICAgY2hpbGRJbmZvLmNvbXBvbmVudCA9ICBiYXRjaFNodXRkb3duOwogICAgICAgICAgICAgIH1lbHNlIGlmKGNvbXAuaW5kZXhPZigib3JnYW5pemF0aW9uIikgIT0gLTEpewogICAgICAgICAgICAgICAgY2hpbGRJbmZvLmNvbXBvbmVudCA9ICBvcmdhbml6YXRpb247CiAgICAgICAgICAgICAgfWVsc2UgaWYoY29tcC5pbmRleE9mKCJjaGFubmVsLW1hbmFnZW1lbnQiKSAhPSAtMSl7CiAgICAgICAgICAgICAgICBjaGlsZEluZm8uY29tcG9uZW50ID0gIGNoYW5uZWxNYW5hZ2VtZW50OwogICAgICAgICAgICAgIH1lbHNlIGlmKGNvbXAuaW5kZXhPZigidXNlciIpICE9IC0xKXsKICAgICAgICAgICAgICAgIGNoaWxkSW5mby5jb21wb25lbnQgPSAgdXNlcjsKICAgICAgICAgICAgICB9ZWxzZSBpZihjb21wLmluZGV4T2YoInJvbGUtbWFuYWdlbWVudCIpICE9IC0xKXsKICAgICAgICAgICAgICAgIGNoaWxkSW5mby5jb21wb25lbnQgPSAgcm9sZU1hbmFnZW1lbnQ7CiAgICAgICAgICAgICAgfSovCgogICAgICAgICAgICAgIGNoaWxkSW5mby5jb21wb25lbnQgPSBsb2FkVmlldyhjb21wKTsKICAgICAgICAgICAgICBpbmZvLmNoaWxkcmVuLnB1c2goY2hpbGRJbmZvKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcm9sZS5wdXNoKGluZm8pOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgYXN5bmNSb3V0ZXMgPSBnZXRBc3luY1JvdXRlcyhyb2xlKTsgLy8g5a+56Lev55Sx5qC85byP6L+b6KGM5aSE55CGCgogICAgICAgIGlmIChyb2xlcy5pbmNsdWRlcygnYWRtaW4nKSkgewogICAgICAgICAgYWNjZXNzZWRSb3V0ZXMgPSBhc3luY1JvdXRlcyB8fCBbXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWNjZXNzZWRSb3V0ZXMgPSBmaWx0ZXJBc3luY1JvdXRlcyhhc3luY1JvdXRlcywgcm9sZXMpOwogICAgICAgIH0KCiAgICAgICAgY29tbWl0KCdTRVRfUk9VVEVTJywgYWNjZXNzZWRSb3V0ZXMpOwogICAgICAgIHJlc29sdmUoYWNjZXNzZWRSb3V0ZXMpOwogICAgICB9KTsKICAgIH0pOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMKfTs="},{"version":3,"sources":["E:/2020xian/git-AntiFraud/src/store/modules/permission.js"],"names":["asyncRoutes","constantRoutes","getRoutes","Layout","organization","channelManagement","roleManagement","user","batchShutdown","downtimeWhiteList","fraudDetails","hawkeyeDaily","hasPermission","roles","route","meta","some","role","includes","getAsyncRoutes","routes","console","log","res","keys","filterAsyncRoutes","forEach","tmp","children","push","state","addRoutes","mutations","SET_ROUTES","concat","loadView","view","resolve","require","actions","generateRoutes","commit","Promise","accessedRoutes","param","loginId","sessionStorage","getItem","test","then","response","i","length","row","info","name","a","path","component","redirect","alwaysShow","title","icon","affix","b","m","childInfo","comp","namespaced"],"mappings":"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","sourcesContent":["import { asyncRoutes, constantRoutes } from '@/router'\nimport { getRoutes } from '@/api/role' // 获取路由的接口方法\nimport Layout from '@/layout'\nimport organization from '@/views/limits-authority/organization'\nimport channelManagement from '@/views/limits-authority/channel-management'\nimport roleManagement from '@/views/limits-authority/role-management'\nimport user from '@/views/limits-authority/user'\nimport batchShutdown from '@/views/fraud-management/batch-shutdown'\nimport downtimeWhiteList from '@/views/fraud-management/downtime-white-list'\nimport fraudDetails from '@/views/fraud-management/fraud-details'\nimport hawkeyeDaily from '@/views/fraud-management/hawkeye-daily'\n\n\n/**\n * Use meta.role to determine if the current user has permission\n * @param roles\n * @param route\n */\nfunction hasPermission(roles, route) {\n  if (route.meta && route.meta.roles) {\n    return roles.some(role => route.meta.roles.includes(role))\n  } else {\n    return true\n  }\n}\n\n/**\n * 把后台返回菜单组装成routes要求的格式\n * @param {*} routes\n */\nexport function getAsyncRoutes(routes) {\n  console.log(routes)\n  const res = [...routes]\n  const keys = ['path', 'name', 'children', 'redirect', 'alwaysShow', 'meta', 'hidden']\n  /*routes.forEach(item => {\n\n    const newItem = {}\n    if (item.component) {\n      if (item.component === 'layout/Layout') {\n        newItem.component = Layout\n      } else {\n\n      }\n    }\n    for (const key in item) {\n      if (keys.includes(key)) {\n        newItem[key] = item[key]\n      }\n    }\n    if (newItem.children && newItem.children.length) {\n      newItem.children = getAsyncRoutes(item.children)\n    }\n    res.push(newItem)\n  })*/\n  return res\n}\n\n/**\n * Filter asynchronous routing tables by recursion\n * @param routes asyncRoutes\n * @param roles\n */\nexport function filterAsyncRoutes(routes, roles) {\n  const res = []\n\n  routes.forEach(route => {\n    const tmp = { ...route }\n    if (hasPermission(roles, tmp)) {\n      if (tmp.children) {\n        tmp.children = filterAsyncRoutes(tmp.children, roles)\n      }\n      res.push(tmp)\n    }\n  })\nconsole\n  return res\n}\n\nconst state = {\n  routes: [],\n  addRoutes: []\n}\n\nconst mutations = {\n  SET_ROUTES: (state, routes) => {\n    state.addRoutes = routes\n    state.routes = constantRoutes.concat(routes)\n  }\n}\n\nexport const loadView = (view) => { // 路由懒加载\n  return (resolve) =>  require([`@/views/${view}`], resolve)\n}\n\nconst actions = {\n  generateRoutes({ commit }, roles) {\n    return new Promise(resolve => {\n      let accessedRoutes\n      let asyncRoutes;\n\n      let param = {};\n      param.loginId = sessionStorage.getItem('loginId')\n      let test;\n      getRoutes(param).then(response => {\n        test = response;\n        let role = []\n        for(let i = 0;i<test.length;i++){\n          let row = test[i];\n          let info = {};\n          if(i===0){\n            if (row.name==='首页'){\n              let a = {\n                path: '/',\n                component: Layout,\n                redirect: '/index',\n                alwaysShow: false, // will always show the root menu\n                name:'首页',\n                meta: {\n                  title: '首页',\n                  icon: 'dashboard' // you can set roles in root nav\n                },\n                children: [\n                  {\n                    path: 'index',\n                    component: () => import('@/views/dashboard/index'),\n                    name: '首页',\n                    meta: { title: '首页', icon: 'dashboard', affix: true }\n                  }\n                ]\n              }\n              role.push(a);\n              continue;\n            }else {\n              let b ={\n                path: '/',\n                component: Layout,\n                redirect: '/index',\n                alwaysShow: false, // will always show the root menu\n                name:'首页',\n                meta: {\n                  title: '首页',\n                  icon: 'dashboard' // you can set roles in root nav\n                },\n                children: [\n                  {\n                    path: 'index',\n                    component: () => import('@/views/error-page/401'),\n                    name: '首页',\n                    meta: { title: '首页', icon: 'dashboard'}\n                  }\n                ]\n              }\n              role.push(b)\n            }\n          }\n          if(row.children.length>0){\n            info.path = row.path;\n            info.component = Layout;\n            info.redirect = row.redirect;\n            info.alwaysShow = true\n            info.name = row.name\n            info.meta = {};\n            info.meta.icon = row.icon;\n            info.meta.title = row.title;\n            info.children=[]\n            for(let m = 0;m < row.children.length;m++){\n              let childInfo={};\n              childInfo.path = row.children[m].path\n              childInfo.name = row.children[m].name\n              childInfo.meta = {}\n              childInfo.meta.icon = row.children[m].icon;\n              childInfo.meta.title = row.children[m].title;\n              let comp = row.children[m].component;\n              /*if(comp.indexOf(\"hawkeye-daily\") != -1){\n                childInfo.component =  hawkeyeDaily;\n              }else if(comp.indexOf(\"fraud-details\") != -1){\n                childInfo.component =  fraudDetails;\n              }else if(comp.indexOf(\"downtime-white-list\") != -1){\n                childInfo.component =  downtimeWhiteList;\n              }else if(comp.indexOf(\"batch-shutdown\") != -1){\n                childInfo.component =  batchShutdown;\n              }else if(comp.indexOf(\"organization\") != -1){\n                childInfo.component =  organization;\n              }else if(comp.indexOf(\"channel-management\") != -1){\n                childInfo.component =  channelManagement;\n              }else if(comp.indexOf(\"user\") != -1){\n                childInfo.component =  user;\n              }else if(comp.indexOf(\"role-management\") != -1){\n                childInfo.component =  roleManagement;\n              }*/\n              childInfo.component = loadView(comp)\n              info.children.push(childInfo)\n            }\n            role.push(info)\n          }\n        }\n        asyncRoutes = getAsyncRoutes(role)\n        // 对路由格式进行处理\n        if (roles.includes('admin')) {\n          accessedRoutes = asyncRoutes || []\n        } else {\n          accessedRoutes = filterAsyncRoutes(asyncRoutes, roles)\n        }\n        commit('SET_ROUTES', accessedRoutes)\n        resolve(accessedRoutes)\n      })\n\n    })\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n}\n"]}]}